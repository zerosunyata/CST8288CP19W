<!DOCTYPE html>
<html>
<head>
</head>
<body style="font-family: verdana, sans-serif;font-size: 12px;">
<p></p>
<!-- HTML generated using hilite.me -->
<div>
<div style="background: #272822; overflow: auto; width: auto; border: solid gray; border-width: .1em .1em .1em .8em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">	<span style="color: #75715e;">/**</span>
<span style="color: #75715e;">	 * create a random shape at a given (x,y) with a range of sides and max size.</span>
<span style="color: #75715e;">	 * @param centerX - initial center in x direction which random point are generated around</span>
<span style="color: #75715e;">	 * @param centerY - initial center in y direction which random point are generated around</span>
<span style="color: #75715e;">	 * @param size - max size (radius) which points can generate from center</span>
<span style="color: #75715e;">	 * @param minPoints - inclusive, min number of sides in this shape</span>
<span style="color: #75715e;">	 * @param maxPoints - exclusive, max number of points in this shape</span>
<span style="color: #75715e;">	 * @return current instance of this object</span>
<span style="color: #75715e;">	 */</span>
	<span style="color: #66d9ef;">public</span> <span style="color: #f8f8f2;">PolyShape</span> <span style="color: #a6e22e;">randomize</span><span style="color: #f92672;">(</span> <span style="color: #66d9ef;">double</span> <span style="color: #f8f8f2;">centerX</span><span style="color: #f92672;">,</span> <span style="color: #66d9ef;">double</span> <span style="color: #f8f8f2;">centerY</span><span style="color: #f92672;">,</span> <span style="color: #66d9ef;">double</span> <span style="color: #f8f8f2;">size</span><span style="color: #f92672;">,</span> <span style="color: #66d9ef;">int</span> <span style="color: #f8f8f2;">minPoints</span><span style="color: #f92672;">,</span> <span style="color: #66d9ef;">int</span> <span style="color: #f8f8f2;">maxPoints</span><span style="color: #f92672;">){</span>
		<span style="color: #f8f8f2;">pointCount</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">RandUtil</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">getInt</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">minPoints</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">maxPoints</span><span style="color: #f92672;">);</span>
		<span style="color: #f8f8f2;">points</span> <span style="color: #f92672;">=</span> <span style="color: #66d9ef;">new</span> <span style="color: #66d9ef;">double</span><span style="color: #f92672;">[</span><span style="color: #ae81ff;">2</span><span style="color: #f92672;">][</span><span style="color: #f8f8f2;">pointCount</span><span style="color: #f92672;">];</span>
		<span style="color: #66d9ef;">final</span> <span style="color: #f8f8f2;">Point</span> <span style="color: #f8f8f2;">center</span> <span style="color: #f92672;">=</span> <span style="color: #66d9ef;">new</span> <span style="color: #f8f8f2;">Point</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">centerX</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">centerY</span><span style="color: #f92672;">);</span>
		<span style="color: #f8f8f2;">List</span><span style="color: #f92672;">&lt;</span> <span style="color: #f8f8f2;">Point</span><span style="color: #f92672;">&gt;</span> <span style="color: #f8f8f2;">unsortedPoints</span> <span style="color: #f92672;">=</span> <span style="color: #66d9ef;">new</span> <span style="color: #f8f8f2;">ArrayList</span><span style="color: #f92672;">&lt;&gt;(</span> <span style="color: #f8f8f2;">pointCount</span><span style="color: #f92672;">);</span>
		<span style="color: #f8f8f2;">centerX</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">centerY</span> <span style="color: #f92672;">=</span> <span style="color: #ae81ff;">0</span><span style="color: #f92672;">;</span>
		<span style="color: #75715e;">// create random points using the Point class</span>
		<span style="color: #66d9ef;">for</span><span style="color: #f92672;">(</span> <span style="color: #66d9ef;">int</span> <span style="color: #f8f8f2;">i</span> <span style="color: #f92672;">=</span> <span style="color: #ae81ff;">0</span><span style="color: #f92672;">;</span> <span style="color: #f8f8f2;">i</span> <span style="color: #f92672;">&lt;</span> <span style="color: #f8f8f2;">pointCount</span><span style="color: #f92672;">;</span> <span style="color: #f8f8f2;">i</span><span style="color: #f92672;">++){</span>
			<span style="color: #f8f8f2;">Point</span> <span style="color: #f8f8f2;">randP</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">center</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">randomPoint</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">size</span><span style="color: #f92672;">);</span>
			<span style="color: #f8f8f2;">unsortedPoints</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">add</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">randP</span><span style="color: #f92672;">);</span>
			<span style="color: #75715e;">// keep the total of all x and y values to calculate the new center</span>
			<span style="color: #f8f8f2;">centerX</span> <span style="color: #f92672;">+=</span> <span style="color: #f8f8f2;">randP</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">x</span><span style="color: #f92672;">();</span>
			<span style="color: #f8f8f2;">centerY</span> <span style="color: #f92672;">+=</span> <span style="color: #f8f8f2;">randP</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">y</span><span style="color: #f92672;">();</span>
		<span style="color: #f92672;">}</span>
		<span style="color: #75715e;">// set the new center</span>
		<span style="color: #f8f8f2;">center</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">set</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">centerX</span> <span style="color: #f92672;">/</span> <span style="color: #f8f8f2;">pointCount</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">centerY</span> <span style="color: #f92672;">/</span> <span style="color: #f8f8f2;">pointCount</span><span style="color: #f92672;">);</span>
		<span style="color: #75715e;">// sort all the points based on their angular relationship to center</span>
		<span style="color: #75715e;">// this prevents the lines from crossing each other.</span>
		<span style="color: #f8f8f2;">unsortedPoints</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">sort</span><span style="color: #f92672;">(</span> <span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">p1</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">p2</span><span style="color: #f92672;">)</span> <span style="color: #f92672;">-&gt;</span> <span style="color: #f8f8f2;">center</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">angle</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">p1</span><span style="color: #f92672;">)</span> <span style="color: #f92672;">&gt;</span> <span style="color: #f8f8f2;">center</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">angle</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">p2</span><span style="color: #f92672;">)</span> <span style="color: #f92672;">?</span> <span style="color: #ae81ff;">1</span> <span style="color: #f92672;">:</span> <span style="color: #f92672;">-</span><span style="color: #ae81ff;">1</span><span style="color: #f92672;">);</span>
		<span style="color: #66d9ef;">int</span> <span style="color: #f8f8f2;">i</span> <span style="color: #f92672;">=</span> <span style="color: #ae81ff;">0</span><span style="color: #f92672;">;</span>
		<span style="color: #75715e;">// set the min and max of x to first index of unsortedPoints</span>
		<span style="color: #75715e;">// set the min and max of y to first index of unsortedPoints</span>
		<span style="color: #f8f8f2;">minX</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">maxX</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">unsortedPoints</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">get</span><span style="color: #f92672;">(</span> <span style="color: #ae81ff;">0</span><span style="color: #f92672;">).</span><span style="color: #a6e22e;">x</span><span style="color: #f92672;">();</span>
		<span style="color: #f8f8f2;">minY</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">maxY</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">unsortedPoints</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">get</span><span style="color: #f92672;">(</span> <span style="color: #ae81ff;">0</span><span style="color: #f92672;">).</span><span style="color: #a6e22e;">y</span><span style="color: #f92672;">();</span>
		<span style="color: #75715e;">// store all points in the points array</span>
		<span style="color: #66d9ef;">for</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">Point</span> <span style="color: #f8f8f2;">p</span> <span style="color: #f92672;">:</span> <span style="color: #f8f8f2;">unsortedPoints</span><span style="color: #f92672;">){</span>
			<span style="color: #75715e;">// check each point for potential min and max</span>
			<span style="color: #f8f8f2;">updateMinMax</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">p</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">x</span><span style="color: #f92672;">(),</span> <span style="color: #f8f8f2;">p</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">y</span><span style="color: #f92672;">());</span>
			<span style="color: #f8f8f2;">points</span><span style="color: #f92672;">[</span><span style="color: #ae81ff;">0</span><span style="color: #f92672;">][</span><span style="color: #f8f8f2;">i</span><span style="color: #f92672;">]</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">p</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">x</span><span style="color: #f92672;">();</span>
			<span style="color: #f8f8f2;">points</span><span style="color: #f92672;">[</span><span style="color: #ae81ff;">1</span><span style="color: #f92672;">][</span><span style="color: #f8f8f2;">i</span><span style="color: #f92672;">]</span> <span style="color: #f92672;">=</span> <span style="color: #f8f8f2;">p</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">y</span><span style="color: #f92672;">();</span>
			<span style="color: #f8f8f2;">i</span><span style="color: #f92672;">++;</span>
		<span style="color: #f92672;">}</span>
		<span style="color: #f8f8f2;">hitbox</span><span style="color: #f92672;">.</span><span style="color: #a6e22e;">setBounds</span><span style="color: #f92672;">(</span> <span style="color: #f8f8f2;">minX</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">minY</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">maxX</span> <span style="color: #f92672;">-</span> <span style="color: #f8f8f2;">minX</span><span style="color: #f92672;">,</span> <span style="color: #f8f8f2;">maxY</span> <span style="color: #f92672;">-</span> <span style="color: #f8f8f2;">minY</span><span style="color: #f92672;">);</span>
		<span style="color: #66d9ef;">return</span> <span style="color: #66d9ef;">this</span><span style="color: #f92672;">;</span>
	<span style="color: #f92672;">}</span>
</pre>
</div>
</div>
</body>
</html>